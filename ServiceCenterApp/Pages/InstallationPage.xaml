<Page x:Class="ServiceCenterApp.Pages.InstallationPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:ServiceCenterApp.Pages"
      xmlns:helpers="clr-namespace:ServiceCenterApp.Helpers"
      xmlns:viewModels="clr-namespace:ServiceCenterApp.ViewModels"
      mc:Ignorable="d"
      d:DesignHeight="1080" d:DesignWidth="1920"
      Title="InstallationPage">

    <Border Background="WhiteSmoke">
        <Border Background="White" CornerRadius="10" MaxHeight="600" MaxWidth="600" Margin="10">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.2" BlurRadius="15"/>
            </Border.Effect>
            <DockPanel>
                <StackPanel DockPanel.Dock="Top">
                    <TextBlock Text="Мастер установки" Foreground="Black" FontSize="32" Margin="20,20,20,0" TextWrapping="Wrap" TextAlignment="Center"/>
                    <Separator Margin="0,20,0,25" Opacity="0.5"/>
                    <TextBlock Text="В базе данных данных не найдено администраторов. Чтобы продолжить создайте пользователя администратора" Foreground="Black" FontSize="16" Margin="50,0,50,20" TextWrapping="Wrap" TextAlignment="Center"/>

                    <TextBox x:Name="FirstNameTextBox"
                             Style="{StaticResource LightTextBoxStyle}"
                             Tag="Имя *" 
                             Margin="80,20,80,0"
                             Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged}"
                             MaxLength="{Binding MaxFirstNameLength}"/>
                    <TextBox x:Name="SurNameTextBox"
                             Style="{StaticResource LightTextBoxStyle}"
                             Tag="Фамилия *" 
                             Margin="80,20,80,0"
                             Text="{Binding SurName, UpdateSourceTrigger=PropertyChanged}"
                             MaxLength="{Binding MaxSurNameLength}"/>
                    <TextBox x:Name="PatronymicTextBox"
                             Style="{StaticResource LightTextBoxStyle}"
                             Tag="Отчество" 
                             Margin="80,20,80,0"
                             Text="{Binding Patronymic, UpdateSourceTrigger=PropertyChanged}"
                             MaxLength="{Binding MaxPatronymicLength}"/>
                    <TextBox x:Name="PositionTextBox"
                             Style="{StaticResource LightTextBoxStyle}"
                             Tag="Должность *" 
                             Margin="80,20,80,0"
                             Text="{Binding Position, UpdateSourceTrigger=PropertyChanged}"
                             MaxLength="{Binding MaxPositionLength}"/>
                    <DockPanel Margin="0 0 0 20">
                        <PasswordBox x:Name="PIN1PasswordBox" DockPanel.Dock="Left"
                                     Style="{StaticResource LightPasswordBoxStyle}" 
                                     Tag="PIN *"
                                     Width="180"
                                     Margin="80,20,0,0"
                                     helpers:PasswordBoxHelper.BoundPassword="{Binding Pin1, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                        <PasswordBox x:Name="PIN2PasswordBox" DockPanel.Dock="Right" HorizontalAlignment="Right"
                                     Style="{StaticResource LightPasswordBoxStyle}" 
                                     Tag="PIN Повтор *" 
                                     Width="180"
                                     Margin="0,20,80,0"
                                     helpers:PasswordBoxHelper.BoundPassword="{Binding Pin2, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </DockPanel>
                    <TextBlock Margin="80,10,80,0" Text="∗ - Обязательное поле" Foreground="Black" FontSize="12" TextWrapping="Wrap" TextAlignment="Left" Opacity="0.5"/>
                </StackPanel>

                <Button DockPanel.Dock="Bottom" 
                        MaxHeight="50"
                        MaxWidth="200"
                        Style="{StaticResource BlueButtonStyle}"
                        Content="Подтвердить" 
                        Margin="80, 10, 80, 20"
                        Command="{Binding CreateAdminCommand}"/>
            </DockPanel>
        </Border>
    </Border>
</Page>